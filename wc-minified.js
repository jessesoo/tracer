function waitUntilLoaded(e){setTimeout((()=>{document.querySelector(".loading-container")?waitUntilLoaded(e):e()}),100)}function main(){const e=document.querySelector(".image-card");e?e.classList.contains("actived")?go():(e.click(),waitUntilLoaded(go)):alert("Please refresh the page.")}function next(){document.querySelector(".bottom-action").childNodes[1].childNodes[2].click()}function download(e,t){const o=document.createElement("a");o.href=encodeURI("data:text/csv;charset=utf-8,"+e),o.target="_blank",o.download=`${t} (⌚).csv`,document.body.appendChild(o),o.click()}let sources=[],translations=[];function downloadFile(){const e=document.querySelector(".episode-title").textContent;let t="ZH⌚EN\n";for(let e=0;e<translations.length;e++)t+=`${sources[e]}⌚${translations[e]}\n`;download(t,e),sources=[],translations=[]}function getImageCards(){return Array.from(document.querySelectorAll(".image-card"))}function hasMore(){const e=getImageCards();return e.length>0&&!e[e.length-1].classList.contains("actived")}function go(){Array.from(document.querySelectorAll(".target-input")).forEach((e=>{translations.push([e.value])})),Array.from(document.querySelectorAll(".source-input")).forEach((e=>{sources.push([e.value])})),next(),waitUntilLoaded((()=>{hasMore()?go():downloadFile()}))}main();
