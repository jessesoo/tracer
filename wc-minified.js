function waitUntilLoaded(t){setTimeout((()=>{document.querySelector(".loading-container")?waitUntilLoaded(t):t()}),100)}function main(){const t=document.querySelector(".image-card");t?t.classList.contains("actived")?go():(t.click(),waitUntilLoaded(go)):alert("Please refresh the page.")}function next(){document.querySelector(".bottom-action").childNodes[1].childNodes[2].click()}function download(t,e){const n=document.createElement("a");n.href=encodeURI("data:text/csv;charset=utf-8,"+t),n.target="_blank",n.download=`${e} (⌚).csv`,document.body.appendChild(n),n.click()}function downloadFile({sources:t,translations:e}={}){const n=document.querySelector(".episode-title").textContent;let o="ZH⌚EN\n";for(let n=0;n<e.length;n++){const a=t[n][0].split("\n"),c=e[n][0].split("\n"),l=Math.max(a.length,c.length);for(let t=0;t<l;t++){o+=`${t<a.length?a[t]:""}⌚${t<c.length?c[t]:""}\n`}}download(o,n)}function getImageCards(){return Array.from(document.querySelectorAll(".image-card"))}function hasMore(){const t=getImageCards();return t.length>0&&!t[t.length-1].classList.contains("actived")}function go({sources:t=[],translations:e=[]}={}){Array.from(document.querySelectorAll(".target-input")).forEach((t=>{e.push([t.value])})),Array.from(document.querySelectorAll(".source-input")).forEach((e=>{t.push([e.value])}));const n={sources:t,translations:e};next(),waitUntilLoaded((()=>{hasMore()?go(n):downloadFile(n)}))}main();
