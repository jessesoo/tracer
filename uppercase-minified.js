var cancel=!1;function waitUntilLoaded(e){setTimeout((()=>{document.querySelector(".loading-container")?waitUntilLoaded(e):e()}),100)}function onEscape(e){"Escape"===e.code&&(cancel=!0)}function main({start:e=1,stop:t=null}={}){const n=document.querySelectorAll(".image-card");if(0===n.length)return void alert("Please refresh the page.");const o=n[Math.max(0,e-1)];o.classList.contains("actived")?go({stop:t}):(o.click(),waitUntilLoaded((()=>{go({stop:t})})),window.removeEventListener("keydown",onEscape),window.addEventListener("keydown",onEscape,!0))}function getActiveIndex(e){const t=getImageCards().findIndex((e=>e.classList.contains("actived")));if(-1!==t)return e(t);setTimeout((()=>{getActiveIndex(e)}),100)}function getImageCards(){return Array.from(document.querySelectorAll(".image-card"))}function next(e){document.querySelector(".bottom-action").childNodes[1].childNodes[2].click(),waitUntilLoaded(e)}function save(){document.querySelector(".bottom-action").childNodes[0].click()}function hasMore(){const e=getImageCards();return e.length>0&&!e[e.length-1].classList.contains("actived")}function uppercase(e){Array.from(document.querySelectorAll(".target-input")).forEach((e=>{""!=e.value&&(e.value=e.value.toUpperCase(),e.dispatchEvent(new Event("input",{bubbles:!0})))})),save(),waitUntilLoaded(e)}function done(){alert("Done.")}function go({stop:e}={}){getActiveIndex((t=>{uppercase((()=>{null!=e&&t>=e-1?done():next((()=>{cancel?done():hasMore()?go({stop:e}):uppercase(done)}))}))}))}main({start:1,stop:null});
